{
  "openapi": "3.1.0",
  "info": {
    "title": "Anthropic Claude API",
    "version": "2025-01-01",
    "description": "Unofficial full Anthropic OpenAPI specification generated based on official API documentation. Covers Messages, Streaming, Tools, Vision, Images, Embeddings, Files, Batches, Resources, Token counting and more."
  },
  "servers": [
    {
      "url": "https://api.aisa.one/v1"
    }
  ],
  "security": [
    {
      "ApiKeyAuth": []
    }
  ],
  "paths": {
    "/messages": {
      "post": {
        "summary": "Create Claude chat completion",
        "operationId": "createMessage",
        "security": [{ "ApiKeyAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/MessageRequest" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Chat response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/MessageResponse" }
              }
            }
          }
        }
      }
    },
    "/messages/stream": {
      "post": {
        "summary": "Stream Claude chat completion",
        "operationId": "streamMessage",
        "security": [{ "ApiKeyAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/MessageRequest" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "SSE response stream",
            "content": {
              "text/event-stream": {
                "schema": { "$ref": "#/components/schemas/MessageStreamEvent" }
              }
            }
          }
        }
      }
    },

    "/messages/count_tokens": {
      "post": {
        "summary": "Count tokens",
        "operationId": "countTokens",
        "security": [{ "ApiKeyAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/CountTokensRequest" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token count result",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CountTokensResponse" }
              }
            }
          }
        }
      }
    },

    "/messages/batches": {
      "post": {
        "summary": "Create batch message generation",
        "operationId": "createMessageBatch",
        "security": [{ "ApiKeyAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/CreateBatchRequest" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Batch created",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/BatchResponse" }
              }
            }
          }
        }
      },
      "get": {
        "summary": "List message batches",
        "operationId": "listBatches",
        "security": [{ "ApiKeyAuth": [] }],
        "responses": {
          "200": {
            "description": "List of batches",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/BatchListResponse" }
              }
            }
          }
        }
      }
    },

    "/content/images": {
      "post": {
        "summary": "Generate images",
        "operationId": "generateImages",
        "security": [{ "ApiKeyAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ImageRequest" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Image generation result",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ImageResponse" }
              }
            }
          }
        }
      }
    },

    "/content/embeddings": {
      "post": {
        "summary": "Create embeddings",
        "operationId": "createEmbeddings",
        "security": [{ "ApiKeyAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/EmbeddingRequest" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Embedding result",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/EmbeddingResponse" }
              }
            }
          }
        }
      }
    },

    "/resources/files": {
      "post": {
        "summary": "Upload files",
        "operationId": "uploadFile",
        "security": [{ "ApiKeyAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": { "$ref": "#/components/schemas/FileUploadRequest" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "File uploaded",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/FileUploadResponse" }
              }
            }
          }
        }
      },
      "get": {
        "summary": "List files",
        "operationId": "listFiles",
        "security": [{ "ApiKeyAuth": [] }],
        "responses": {
          "200": {
            "description": "Files list",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/FileListResponse" }
              }
            }
          }
        }
      }
    }
  },

  "components": {
    "securitySchemes": {
      "ApiKeyAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "x-api-key"
      }
    },

    "schemas": {
      "MessageRequest": {
        "type": "object",
        "required": ["model", "messages"],
        "properties": {
          "model": { "type": "string" },
          "messages": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/MessagePart" }
          },
          "max_tokens": { "type": "integer" },
          "temperature": { "type": "number" },
          "top_p": { "type": "number" },
          "stream": { "type": "boolean" },
          "thinking": { "$ref": "#/components/schemas/ThinkingConfig" },
          "tools": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/ToolDefinition" }
          }
        }
      },

      "MessagePart": {
        "type": "object",
        "required": ["role", "content"],
        "properties": {
          "role": { "type": "string" },
          "content": { "type": "string" }
        }
      },

      "ThinkingConfig": {
        "type": "object",
        "properties": {
          "type": { "type": "string", "enum": ["enabled", "disabled"] },
          "budget_tokens": { "type": "integer" }
        }
      },

      "ToolDefinition": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "description": { "type": "string" },
          "input_schema": { "type": "object" }
        }
      },

      "MessageResponse": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "object": { "type": "string" },
          "model": { "type": "string" },
          "choices": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/MessageChoice" }
          },
          "usage": { "$ref": "#/components/schemas/Usage" }
        }
      },

      "MessageChoice": {
        "type": "object",
        "properties": {
          "index": { "type": "integer" },
          "message": { "$ref": "#/components/schemas/MessagePart" },
          "finish_reason": { "type": "string" }
        }
      },

      "Usage": {
        "type": "object",
        "properties": {
          "prompt_tokens": { "type": "integer" },
          "completion_tokens": { "type": "integer" },
          "total_tokens": { "type": "integer" }
        }
      },

      "MessageStreamEvent": {
        "type": "object",
        "properties": {
          "type": { "type": "string" },
          "index": { "type": "integer" },
          "delta": { "type": "string" }
        }
      },

      "CountTokensRequest": {
        "type": "object",
        "required": ["model", "messages"],
        "properties": {
          "model": { "type": "string" },
          "messages": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/MessagePart" }
          }
        }
      },

      "CountTokensResponse": {
        "type": "object",
        "properties": {
          "model": { "type": "string" },
          "token_count": { "type": "integer" }
        }
      },

      "CreateBatchRequest": {
        "type": "object",
        "required": ["requests"],
        "properties": {
          "requests": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/MessageRequest" }
          }
        }
      },

      "BatchResponse": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "object": { "type": "string" },
          "status": { "type": "string" }
        }
      },

      "BatchListResponse": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/BatchResponse" }
          }
        }
      },

      "ImageRequest": {
        "type": "object",
        "required": ["prompt", "model"],
        "properties": {
          "model": { "type": "string" },
          "prompt": { "type": "string" },
          "size": { "type": "string" }
        }
      },

      "ImageResponse": {
        "type": "object",
        "properties": {
          "images": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "base64": { "type": "string" }
              }
            }
          }
        }
      },

      "EmbeddingRequest": {
        "type": "object",
        "required": ["model", "input"],
        "properties": {
          "model": { "type": "string" },
          "input": { "type": "string" }
        }
      },

      "EmbeddingResponse": {
        "type": "object",
        "properties": {
          "embedding": {
            "type": "array",
            "items": { "type": "number" }
          }
        }
      },

      "FileUploadRequest": {
        "type": "object",
        "properties": {
          "file": { "type": "string", "format": "binary" },
          "purpose": { "type": "string" }
        }
      },

      "FileUploadResponse": {
        "type": "object",
        "properties": {
          "file_id": { "type": "string" }
        }
      },

      "FileListResponse": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "filename": { "type": "string" },
                "size": { "type": "integer" }
              }
            }
          }
        }
      }
    }
  }
}
